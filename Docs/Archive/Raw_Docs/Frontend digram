
---

# 1ï¸âƒ£ DIAGRAMA DO FRONTEND â€“ SMARTLAB

## ğŸ¯ Objetivo

Definir **como o frontend funciona de ponta a ponta**, garantindo:

* UX unificada (SAP-like)
* Modularidade real
* Escalabilidade
* Zero duplicaÃ§Ã£o de lÃ³gica
* GovernanÃ§a forte (ISO / ambiente regulado)

---

## ğŸ§  VisÃ£o Geral (mental model)

```
UsuÃ¡rio
   â†“
[ Login / Auth ]
   â†“
[ SHELL APP (Core UI) ]
   â†“
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚   LIMS    â”‚    QMS    â”‚   FSMS    â”‚  ... (outros mÃ³dulos)
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
[ API Central SmartLab ]
```

> **Regra de ouro:**
> O usuÃ¡rio nunca â€œentra num mÃ³duloâ€.
> Ele estÃ¡ **sempre no SmartLab**.

---

## 2ï¸âƒ£ Componentes do Frontend (camadas)

### ğŸ§© 1. Shell App (obrigatÃ³rio)

**Responsabilidade exclusiva:**

* AutenticaÃ§Ã£o (JWT / SSO futuramente)
* Contexto do tenant
* Layout base (header, sidebar, footer)
* Menu dinÃ¢mico
* Feature flags / licenciamento
* Guards de acesso
* ComunicaÃ§Ã£o com API Central
* Design system (UI5 Web Components)

ğŸ“Œ **O Shell NÃƒO contÃ©m lÃ³gica de negÃ³cio.**

---

### ğŸ§© 2. MÃ³dulos Funcionais (LIMS, QMS, FSMS, TMSâ€¦)

Cada mÃ³dulo Ã©:

* Um **pacote isolado**
* Sem auth prÃ³pria
* Sem layout prÃ³prio
* Sem controle de licenÃ§a
* Sem acesso direto ao token

ğŸ‘‰ Ele recebe **contexto pronto** do Shell.

---

## 3ï¸âƒ£ Diagrama lÃ³gico detalhado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Shell App                   â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Auth     â”‚   â”‚ Tenant Context     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                    â”‚            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚               â†“                          â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚        â”‚ Menu Builder  â”‚â—„â”€â”€ LicenÃ§as    â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚               â”‚                          â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚        â”‚ Router Core   â”‚                â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚               â”‚                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â†“          â†“           â†“             â”‚
â”‚ [LIMS]      [QMS]       [FSMS]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4ï¸âƒ£ Como os mÃ³dulos sÃ£o carregados

### ğŸ”¹ Lazy loading + Feature Flags

Exemplo mental:

```ts
if (modules.includes('LIMS')) {
  loadModule('lims');
}
```

âœ” Reduz bundle
âœ” Reduz bugs
âœ” Evita cÃ³digo morto ativo
âœ” Facilita vender mÃ³dulos separados

---

## 5ï¸âƒ£ ComunicaÃ§Ã£o Shell â†” MÃ³dulos

### Contrato fixo (importantÃ­ssimo)

Cada mÃ³dulo recebe:

```ts
interface ModuleContext {
  tenantId: string;
  user: User;
  permissions: Permission[];
  apiClient: SmartLabApi;
}
```

ğŸš« Proibido:

* MÃ³dulo buscar token
* MÃ³dulo acessar localStorage
* MÃ³dulo montar menu

---

## 6ï¸âƒ£ Design e UX (industrial, nÃ£o â€œdashboard bonitoâ€)

### PrincÃ­pios visuais

* **Densidade alta** (mais dados, menos espaÃ§o inÃºtil)
* Tipografia pequena e consistente
* Cards compactos
* Nada de â€œhero cardsâ€
* Tudo escaneÃ¡vel em segundos

### Componentes base

* `ui5-shellbar`
* `ui5-side-navigation`
* `ui5-card` (compact mode)
* `ui5-table`
* `ui5-dialog`

---

## 7ï¸âƒ£ Exemplo de fluxo real (usuÃ¡rio QA Manager)

1. Login
2. Dashboard geral (KPIs cross-mÃ³dulo)
3. Menu mostra:

   * LIMS
   * QMS
   * FSMS
   * TMS
4. Ele entra em:

   * FSMS â†’ Auditoria
5. Abre ferramenta (ex: checklist HACCP)
6. IA sugere:

   * riscos
   * NCs provÃ¡veis
   * aÃ§Ãµes padrÃ£o

ğŸ‘‰ Tudo sem trocar de â€œappâ€.

---

## 8ï¸âƒ£ Por que isso Ã© arquitetura madura?

âœ” Igual SAP
âœ” Igual Siemens Opcenter
âœ” Igual Veeva (life sciences)
âœ” AuditÃ¡vel
âœ” EscalÃ¡vel
âœ” VendÃ¡vel por mÃ³dulo

---

## âœ… ENTREGA 1 CONCLUÃDA

VocÃª agora tem:

* Modelo claro de frontend
* Diagrama lÃ³gico
* Regras de responsabilidade
* Base para passar ao time de cÃ³digo

---

